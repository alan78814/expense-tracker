<div class="container">
    <div class="row d-flex flex-column align-items-center">
        <div class="dropdown-box">
            <form action="/categories/filter" method="GET">
                <label for="category">請選擇類別</label>
                <select name="category" id="category" class="ml-3" onchange="submit()">
                    <option value="" selected>所有分類</option>
                    {{#each categories}}
                    <option value="{{this.name}}" {{#is this.name ../chosenRecord}}selected{{/is}}>{{this.name}}</option>
                    {{/each}}
                </select>
            </form>
        </div>

        <div class="total-money mt-3">
            <h3>總金額:{{totalAmount}}</h3>
        </div>

        <div class="expense mt-2 mb-3">
            <ul class="list-group d-flex">
                {{#each records}}
                <li class="list-group-item d-flex align-items-center justify-content-between">
                    <div class="mr-3">
                        <i class="category {{this.category}}"></i>
                    </div>
                    <div class="record d-flex justify-content-between align-items-center mr-5">
                        <div class="d-flex flex-column">
                            <span>{{this.name}}</span>
                            <span>{{this.date}}</span>
                        </div>
                        <div class="amount">
                            <span>{{this.amount}}</span>
                        </div>
                    </div>
                    <div class="button-group">
                        <form action="/records/{{this._id}}/edit" method="GET" style="display: inline">
                            <button type="submit" class="btn btn-outline-primary">修改</button>
                        </form>
                        <form action="/records/{{this._id}}/delete" method="POST" style="display: inline">
                            <button type="submit" class="btn btn-outline-danger ml-2">刪除</button>
                        </form>
                    </div>
                </li>
                {{/each}}
            </ul>
        </div>

        <div class="add-expense">
            <form action="/records/new" method="GET">
                <button type="submit" class="btn btn-info">新增支出</button>
            </form>
        </div>

    </div>
</div>